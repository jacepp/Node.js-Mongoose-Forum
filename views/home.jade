!!! 5
html(lang='en')
head
    title Konvocate | Home
    link(rel='stylesheet', href='/stylesheets/grid.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(type='text/javascript', src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js')
    script( src='/socket.io/socket.io.js')
    script(type='text/javascript')
      var socket = io.connect(location);
      
      socket.on('new_thread', function (data) {
        console.log('got it');
        $("#newThread").append("<div class='post'>
            <p>
              <a href='/thread/" + data._id + "'>" + data.topic + "</a>
            </p>
            <span>Create by " + data.author + "on " + data.date + "</span>
            <div class='comment'></div>
          </div>")
      });
  body
    header.container
      .row
        .six.columns
          h1
            a(href='/home') Konvocate
        .six.columns
          nav
            ul
              li
                a(href='/home') Home
              li
                a(href='/all') All Threads
              li
                a(href='/sign-out') Sign Out
    section.container
      .row
        .six.columns
          h2 New Threads
          hr
          div#newThread
          if threads
            each thread in threads
              .post
                h3
                  a(href='/thread/' + thread._id) #{thread.topic}
                article
                  p
                    | #{thread.content}
                span
                  | Created by
                  | #{thread.author}
                  | on #{thread.date}
                .comment
            a(href='/new-thread') Start a thread
          else
            a(href='/new-thread') Start a thread
        .six.columns
          h2 New Comments
          hr  
          #newComment        
          if comments            
            each comment in comments
              .comment
                blockquote
                  | #{comment.body}
                span
                  | -
                  | #{comment.user}
                  | , #{comment.date}
                aside
                  a(href='/thread/' + comment.thread) View Thread